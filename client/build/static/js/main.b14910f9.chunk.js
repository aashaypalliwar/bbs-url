(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(26),o=a.n(s),l=(a(85),a(13)),i=a(14),c=a(16),m=a(15),u=a(48),d=a(60),g=a(8),f=a(23),p=a.n(f),E=a(9),h={backgroundColor:"#093009"},b={fontFamily:"Merriweather, serif",fontSize:"2rem",color:"#ededed",fontWeight:"300"},y={fontSize:"1rem",color:"#ededed",fontWeight:"300"},R=a(119),L=a(121),S=function(e){var t=null,a=Object(g.f)();return t=e.authenticated?r.a.createElement(R.a,{className:"ml-auto"},r.a.createElement(R.a.Item,null,r.a.createElement(R.a.Link,{as:E.b,style:y,to:"/changePassword"},"CHANGE PASSWORD")),r.a.createElement(R.a.Item,null,r.a.createElement(R.a.Link,{as:E.b,style:y},r.a.createElement("span",{onClick:function(){p.a.clear(),e.toggle(),a.replace("/")}},"LOG OUT")))):r.a.createElement(R.a,{className:"ml-auto"},r.a.createElement(R.a.Item,null,r.a.createElement(R.a.Link,{as:E.b,style:y,to:"/login"},"LOG IN")),r.a.createElement(R.a.Item,null,r.a.createElement(R.a.Link,{as:E.b,style:y,to:"/signUp"},"SIGN UP"))),r.a.createElement("div",{style:h},r.a.createElement(L.a,{variant:"dark",expand:"lg"},r.a.createElement(L.a.Brand,{style:b,as:E.b,to:"/"},"bbs_url"),r.a.createElement(L.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(L.a.Collapse,null,t)))},w=a(113),v=a(114),O=a(77),U=a(115),j=a(6),x=a.n(j),C={fontSize:"1.5rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"},k={fontSize:"1.2rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"},T={fontSize:"1rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",marginTop:"1rem"},A={fontSize:"1rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center"},P={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"green",cursor:"pointer",textDecoration:"none"},B={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center"},M={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"red",cursor:"pointer"},D=a(3),I=a(118),z=a(73),_=a(36),N=function(e){return r.a.createElement(_.a,{variant:"danger",onClose:function(){return e.dismiss()},dismissible:!0},r.a.createElement(_.a.Heading,null,"Error"),r.a.createElement("p",null,e.message))},G=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)({isError:!1,errorMessage:""}),i=Object(D.a)(l,2),c=i[0],m=i[1],d=(Object(g.f)(),r.a.createRef()),f=r.a.createRef();return r.a.createElement(w.a,null,c.isError?r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},r.a.createElement(N,{dismiss:function(){m({isError:!1,errorMessage:""})},message:c.errorMessage}))):null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:k},"Create a new category")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{padding:"1.5rem",marginTop:"0.25rem",borderRadius:"1rem",border:"medium solid #093009"}},r.a.createElement(I.a,{onSubmit:function(t){t.preventDefault(),o(!0);var a={suborgName:d.current.value,description:f.current.value};d.current.value="",f.current.value="",x.a.post("/api/suborg",a,{withCredentials:!0}).then((function(t){if(201===t.status){var n=[].concat(Object(u.a)(e.landingPageState.categories),[{_id:t.data.newSuborgData._id,name:a.suborgName,description:a.description}]);e.set({categories:n})}o(!1)})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),m({isError:!0,errorMessage:e.response.data.message})):m({isError:!0,errorMessage:"Something went wrong!"+e.message}),o(!1)}))}},r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:O.a,controlId:"categoryNameField"},r.a.createElement(I.a.Control,{type:"text",maxLength:20,placeholder:"Category",ref:d})),r.a.createElement(I.a.Group,{as:O.a,controlId:"categoryDescription"},r.a.createElement(I.a.Control,{type:"text",maxLength:30,placeholder:"Description",ref:f}))),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009"},type:"submit",disabled:s},s?"Creating\u2026":"Create")))))},H=a(38),F=function(e){return r.a.createElement(H.a,{show:e.show,onHide:e.handleClose},r.a.createElement(H.a.Header,{closeButton:!0},r.a.createElement(H.a.Title,null,e.heading)),r.a.createElement(H.a.Body,null,e.body),r.a.createElement(H.a.Footer,null,r.a.createElement("span",{style:{paddingRight:"0.5rem"}},e.footer),r.a.createElement(z.a,{variant:"secondary",disabled:e.isLoading,onClick:e.handleClose},"Close"),r.a.createElement(z.a,{variant:e.variant,disabled:e.isLoading,onClick:e.fireFunction},e.isLoading?"Processing":e.buttonToTrigger)))},J=a(120),Y=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)({isError:!1,errorMessage:""}),i=Object(D.a)(l,2),c=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(D.a)(u,2),f=d[0],p=d[1],E=Object(g.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{style:P,onClick:function(){E.push("/dashboard/category/".concat(e.category.name))}},e.category.name),r.a.createElement("td",{style:B},e.category.description),r.a.createElement("td",{style:M,onClick:function(){p(!0)}},"Delete")),f?r.a.createElement(F,{show:f,isLoading:s,handleClose:function(){return p(!1)},variant:"danger",fireFunction:function(){var t=Object(J.a)(e.categories),a=e.category.name;o(!0);e.category.name;x.a.delete("/api/suborg?suborg=".concat(e.category.name),{withCredentials:!0}).then((function(n){if(204===n.status){var r=t.findIndex((function(e){return e.name===a}));t.splice(r,1),e.set({categories:t})}p(!1)})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),m({isError:!0,errorMessage:e.response.data.message})):m({isError:!0,errorMessage:"Something went wrong!\n"+e.message}),o(!1)}))},buttonToTrigger:"Delete",heading:"Delete Category - ".concat(e.category.name),body:c.isError?c.errorMessage:"Are you sure you want to delete the category - '".concat(e.category.name,"'?")}):null)},W=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).rootHandler=function(){n.props.history.push("/dashboard/root")},n.adminHandler=function(){n.props.history.push("/admin")},n.state={authenticated:!1,_id:null,email:null,name:null,role:"user",suborg:[],categories:[],numberOfURLs:null,URLInfo:null},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:C},"Hi ",this.state.name,", Welcome to your Dashboard!")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:k},"Manage your URL categories")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:8,offset:2},lg:{span:8,offset:2},sm:{span:10,offset:1},xs:{span:10,offset:1}},r.a.createElement(U.a,{responsive:!0,bordered:!0},r.a.createElement("thead",{style:A},r.a.createElement("tr",null,r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:P,onClick:this.rootHandler},"Root"),r.a.createElement("td",{style:B},"All uncategorized short and custom URLs"),r.a.createElement("td",{style:B}," ")),"admin"===this.props.appState.role?r.a.createElement("tr",null,r.a.createElement("td",{style:P,onClick:this.adminHandler},"Admin"),r.a.createElement("td",{style:B},"Admin View"),r.a.createElement("td",{style:B}," ")):null,this.props.appState.categories.map((function(t,a){return r.a.createElement(Y,{key:t.name,category:t,set:e.props.set,categories:e.props.appState.categories})})))))),r.a.createElement(G,{set:this.props.set,landingPageState:this.props.appState}),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:8,offset:2},lg:{span:8,offset:2},sm:{span:10,offset:1},xs:{span:10,offset:1},style:T},r.a.createElement("span",{style:{fontSize:"1.3rem",color:"#093009"}},"How to use?"),r.a.createElement("p",null,"This URL managing tool provides you with custom URLs or randomly generated short URLs that can be mapped to any website you wish. You can also categorize your URLs into sub-groups for easier access and identification.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"1.3rem",color:"#093009"}},"The Root Category"),r.a.createElement("br",null),"The Root category is where you can manage all short and custom URLs which are not categorized",r.a.createElement("br",null),"eg. ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/Qwdt8P")," or ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/matchSchedule"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"1.3rem",color:"#093009"}},"Other Categories"),r.a.createElement("br",null),'Under the category "endsem" one may create:',r.a.createElement("br",null),"1. A random URL like ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/endsem/Asd2It")," that points to your google-drive notes folder and share this with your pals.",r.a.createElement("br",null),"2. Or, may be you can map the link to your favourite youtube tutorial to ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/endsem/graphs"),". You can delete a given category in one go as well.",r.a.createElement("br",null),r.a.createElement("br",null),"Your imagination is the limit! You have stumbled upon the one solution to long URLs and cluttered bookmark tools."))),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{fontSize:"0.85rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem",marginBottom:"1rem"}},"Brought to you by ",r.a.createElement("a",{style:{color:"green"},target:"_blank",href:"https://aashaypalliwar.github.io"},"Aashay Palliwar"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{authenticated:e.appState.authenticated,_id:e.appState._id,email:e.appState.email,name:e.appState.name,role:e.appState.role,suborg:e.appState.suborg,categories:e.appState.categories,numberOfURLs:e.appState.numberOfURLs,URLInfo:e.appState.URLInfo}}}]),a}(n.Component),q=Object(g.g)(W),Q=(n.Component,{fontSize:"1.4rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"}),V={fontSize:"1.2rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"},$={fontSize:"1rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",marginTop:"1rem"},K={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"green",cursor:"pointer",textDecoration:"none"},X=a(21),Z=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(D.a)(l,2),c=i[0],m=i[1],u=Object(n.useState)({isError:!1,errorMessage:""}),d=Object(D.a)(u,2),f=d[0],p=d[1],E=(Object(g.f)(),Object(n.useRef)()),h=Object(n.useRef)(),b=Object(n.useRef)(),y=function(){o(!1),m(!1),E.current.value=""};return r.a.createElement(w.a,null,f.isError?r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},r.a.createElement(N,{dismiss:function(){p({isError:!1,errorMessage:""})},message:f.errorMessage}))):null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{padding:"1.5rem",marginTop:"0.25rem",borderRadius:"1rem",border:"medium solid #093009"}},r.a.createElement(I.a,{onSubmit:function(t){t.preventDefault();var a=Object(J.a)(e.urls);o(!0);var n,r={originalURL:E.current.value,customURL:(n=h,void 0===n.current?" ":n.current.value),wantCustomURL:c};x.a.post("/api/user/url",r,{withCredentials:!0}).then((function(t){if(201===t.status){var n={_id:t.data.newURLData._id,suborg:t.data.newURLData.suborg,hits:t.data.newURLData.hits,createdAt:t.data.newURLData.createdAt,blacklisted:t.data.newURLData.blacklisted,email:t.data.newURLData.email,name:t.data.newURLData.name,userID:t.data.newURLData.userID,shortURLEndPoint:t.data.newURLData.shortURLEndPoint,originalURL:t.data.newURLData.originalURL,__v:t.data.newURLData.__v};a.unshift(n),e.set({URLInfo:a})}y()})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),p({isError:!0,errorMessage:e.response.data.message})):p({isError:!0,errorMessage:"Something went wrong!"+e.message}),y()}))}},r.a.createElement(I.a.Group,{controlId:"categoryNameField"},r.a.createElement(I.a.Label,null,"Original URL"),r.a.createElement(I.a.Control,{type:"text",placeholder:"Enter Original URL",ref:E})),c?r.a.createElement(X.a,{className:"mb-3"},r.a.createElement(X.a.Prepend,null,r.a.createElement(X.a.Text,{id:"basic-addon3"},"bbsurl.in/")),r.a.createElement(I.a.Control,{id:"basic-url","aria-describedby":"basic-addon3",placeholder:"Custom Endpoint",maxLength:20,ref:h})):null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(I.a.Check,{type:"checkbox",label:"Custom URL",checked:c,onChange:function(){m(!c)},ref:b}))),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009"},type:"submit",disabled:s},s?"Creating\u2026":"Create")))))},ee={fontSize:"1.4rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"},te={fontSize:"1.2rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"},ae={fontSize:"1rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",marginTop:"1rem"},ne={fontSize:"1rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center"},re={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"green",cursor:"pointer",textDecoration:"none"},se={fontSize:"1.4rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"green",cursor:"pointer",textDecoration:"none"},oe={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center"},le={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"red",cursor:"pointer"},ie=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)({isError:!1,errorMessage:""}),i=Object(D.a)(l,2),c=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(D.a)(u,2),f=d[0],p=d[1];Object(g.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{style:oe},e.index+1),r.a.createElement("td",null,r.a.createElement("a",{href:e.url.originalURL,style:re,target:"_blank"},e.url.originalURL)),r.a.createElement("td",null,r.a.createElement("a",{href:"/"+e.url.shortURLEndPoint,style:re,target:"_blank"},"bbsurl.in/"+e.url.shortURLEndPoint)),r.a.createElement("td",{style:oe},e.url.hits),r.a.createElement("td",{style:oe},new Date(e.url.createdAt).toDateString()),r.a.createElement("td",{style:le,onClick:function(){p(!0)}},"Delete")),f?r.a.createElement(F,{show:f,isLoading:s,handleClose:function(){return p(!1)},variant:"danger",fireFunction:function(){var t=Object(J.a)(e.urls),a=e.url._id;o(!0),x.a.delete("/api/user/url?id=".concat(e.url._id),{withCredentials:!0}).then((function(n){if(204===n.status){var r=t.findIndex((function(e){return e._id===a}));t.splice(r,1),e.set({URLInfo:t})}p(!1)})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),m({isError:!0,errorMessage:e.response.data.message})):m({isError:!0,errorMessage:"Something went wrong! \n"+e.message}),o(!1)}))},buttonToTrigger:"Delete",heading:"Delete URL - ".concat("bbsurl.in/"+e.url.shortURLEndPoint),body:c.isError?c.errorMessage:"Are you sure you want to delete this labelled URL?"}):null)},ce=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(D.a)(l,2),c=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(D.a)(u,2),f=d[0],p=d[1],E=Object(n.useState)(""),h=Object(D.a)(E,2),b=h[0],y=h[1],R=Object(n.useState)(""),L=Object(D.a)(R,2),S=L[0],U=L[1],j=Object(n.useState)({isError:!1,errorMessage:""}),C=Object(D.a)(j,2),k=C[0],T=C[1],A=(Object(g.f)(),Object(n.useRef)()),P=Object(n.useRef)(),B=Object(n.useRef)(),M=function(){m(!1),p(!1),A.current.value=""},_=function(e){return void 0===e.current?" ":e.current.value};return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{padding:"1.5rem",marginTop:"0.25rem",borderRadius:"1rem",border:"medium solid #093009"}},r.a.createElement(I.a,{onSubmit:function(t){t.preventDefault();Object(J.a)(e.urls);o(!0),console.log(A.current.value),console.log(_(P));var a={originalURL:A.current.value,customURL:_(P),wantCustomURL:c};x.a.post("/api/guest/url",a).then((function(e){if(console.log(e),201===e.status){var t={_id:e.data.newURLData._id,suborg:e.data.newURLData.suborg,hits:e.data.newURLData.hits,createdAt:e.data.newURLData.createdAt,blacklisted:e.data.newURLData.blacklisted,email:e.data.newURLData.email,name:e.data.newURLData.name,userID:e.data.newURLData.userID,shortURLEndPoint:e.data.newURLData.shortURLEndPoint,originalURL:e.data.newURLData.originalURL,__v:e.data.newURLData.__v};console.log("inside req"),console.log(A),console.log(P),y("bbsurl.in/"+(a=t.shortURLEndPoint)),U(a),p(!0),o(!1)}var a})).catch((function(e){console.log(e),e.response?(console.log(e.response.data.message),console.log(e.response.status),T({isError:!0,errorMessage:e.response.data.message})):T({isError:!0,errorMessage:"Something went wrong!"+e.message}),M(),o(!1)}))}},r.a.createElement(I.a.Group,{controlId:"categoryNameField"},r.a.createElement(I.a.Label,null,"Original URL"),r.a.createElement(I.a.Control,{type:"text",placeholder:"Enter Original URL",ref:A})),c?r.a.createElement(X.a,{className:"mb-3"},r.a.createElement(X.a.Prepend,null,r.a.createElement(X.a.Text,{id:"basic-addon3"},"bbsurl.in/")),r.a.createElement(I.a.Control,{id:"basic-url","aria-describedby":"basic-addon3",placeholder:"Custom Endpoint",maxLength:20,ref:P})):null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(I.a.Check,{type:"checkbox",label:"Custom URL",checked:c,onChange:function(){m(!c)},ref:B}))),r.a.createElement(I.a.Row,null,r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009",marginRight:"1rem"},type:"submit",disabled:s},s?"Creating\u2026":"Create"),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#318f4a"},onClick:M,disabled:s},"Reset")),r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Label,null,r.a.createElement("br",null),f?r.a.createElement("span",null,r.a.createElement("a",{href:S,style:K,target:"_blank"},b)," - will redirect to your chosen URL."):"Your Short URL will look like : bbsurl.in/Qw8Plk or bbsur.in/bbsurl"))))),k.isError?r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},r.a.createElement(N,{dismiss:function(){T({isError:!1,errorMessage:""})},message:k.errorMessage}))):null)},me=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).indirectSetState=function(e){n.setState(e)},n.displayState=function(){return console.log(" ")},n.loading=function(){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:V},r.a.createElement("span",{onClick:n.displayState},'"Loading.."')))},n.goBack=function(){n.props.history.replace("/")},n.state={_id:null,email:null,name:null,numberOfURLs:null,URLInfo:[],loadState:"loading"},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:Q},"Not the conventional URL Shortener")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:V},"Create a custom or a random short URL that maps to any website! Sign Up to create special categories and manage all your URLs at one place!")),r.a.createElement(ce,null),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:8,offset:2},lg:{span:8,offset:2},sm:{span:10,offset:1},xs:{span:10,offset:1},style:$},r.a.createElement("span",{style:{fontSize:"1.3rem",color:"#093009"}},"How to use?"),r.a.createElement("p",null,"This URL managing tool provides you with custom URLs or randomly generated short URLs that can be mapped to any website you wish. Once you have signed up, you can also categorize your URLs into sub-groups for easier access and identification. All services are completely free.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"1.3rem",color:"#093009"}},"The Root Category"),r.a.createElement("br",null),"All users get access to the root category where they can manage all short and custom URLs which are not categorized",r.a.createElement("br",null),"eg. ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/Qwdt8P")," or ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/matchSchedule"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"1.3rem",color:"#093009"}},"Other Categories"),r.a.createElement("br",null),'Signed In users can also create categories. eg. under the category "endsem" one may create:',r.a.createElement("br",null),"1. A random URL like ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/endsem/Asd2It")," that points to your google-drive notes folder and share this with your pals.",r.a.createElement("br",null),"2. Or, may be you can map the link to your favourite youtube tutorial to ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/endsem/graphs"),". You can delete any given category in one go as well.",r.a.createElement("br",null),r.a.createElement("br",null),"Your imagination is the limit! You have stumbled upon the one solution to long URLs and cluttered bookmark tools."))),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{fontSize:"0.85rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem",marginBottom:"1rem"}},"Brought to you by ",r.a.createElement("a",{style:{color:"green"},target:"_blank",href:"https://aashaypalliwar.github.io"},"Aashay Palliwar"))))}}]),a}(n.Component),ue=Object(g.g)(me),de=function(e){var t=Object(n.useState)({isError:!1,errorMessage:""}),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(D.a)(l,2),c=i[0],m=i[1],u=Object(g.f)(),d=r.a.createRef(),f=r.a.createRef();if(!0===e.isAuth)return u.push("/"),null;return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10},style:{fontSize:"1.5rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"}},"All your URLs managed at your own dashboard!")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10},style:{fontSize:"1.5rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"}},"Please login to continue")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{padding:"1.5rem",marginTop:"0.25rem",borderRadius:"1rem",border:"medium solid #093009"}},r.a.createElement(I.a,{onSubmit:function(t){t.preventDefault(),m(!0);var a={email:d.current.value,password:f.current.value};x.a.post("/api/auth/login",a).then((function(t){if(200===t.status&&"Please verify your email"===t.data.message)u.push({pathname:"/verifyEmail",state:{email:a.email}});else if(200===t.status){var n={_id:t.data.data.user._id,name:t.data.data.user.name,email:t.data.data.user.email,suborg:t.data.data.user.suborg,categories:t.data.data.user.suborgInfo,numberOfURLs:t.data.data.user.numberOfURLs,expiresAfter:t.data.expiresAfter,role:t.data.data.user.role};e.auth(n)}})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),o({isError:!0,errorMessage:e.response.data.message})):o({isError:!0,errorMessage:"Something went wrong!"}),m(!1)}))}},r.a.createElement(I.a.Group,{controlId:"formBasicEmail"},r.a.createElement(I.a.Label,null,"Email address"),r.a.createElement(I.a.Control,{type:"email",placeholder:"Enter email",ref:d})),r.a.createElement(I.a.Group,{controlId:"formBasicPassword"},r.a.createElement(I.a.Label,null,"Password"),r.a.createElement(I.a.Control,{type:"password",placeholder:"Password",ref:f})),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009"},type:"submit",disabled:c},c?"Loading\u2026":"Login"),r.a.createElement(E.b,{style:{color:"#093009",fontSize:"0.9rem",margin:"1.5rem"},to:"/forgotPassword"},"Forgot Password")))),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},s.isError?r.a.createElement(N,{dismiss:function(){o({isError:!1,errorMessage:""})},message:s.errorMessage}):null)),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{fontSize:"0.85rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem",marginBottom:"1rem"}},"Brought to you by ",r.a.createElement("a",{style:{color:"green"},target:"_blank",href:"https://aashaypalliwar.github.io"},"Aashay Palliwar"))))},ge=r.a.createRef(),fe=r.a.createRef(),pe=r.a.createRef(),Ee=r.a.createRef(),he=function(e){var t=Object(n.useState)({isError:!1,errorMessage:""}),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(D.a)(l,2),c=i[0],m=i[1],u=Object(g.f)();e.isAuth&&u.replace("/");return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10},style:{fontSize:"1.5rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"}},"All your URLs managed at your own dashboard!")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10},style:{fontSize:"1.3rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"}},"With your own email verified account, you get the power to create categorical URLs too!",r.a.createElement("br",null),"Please Sign Up to continue")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{padding:"1.5rem",marginTop:"0.25rem",borderRadius:"1rem",border:"medium solid #093009"}},r.a.createElement(I.a,{onSubmit:function(e){if(e.preventDefault(),m(!0),null===Ee.current.value||void 0===Ee.current.value||""===Ee.current.value)return o({isError:!0,errorMessage:"Name cannot be empty"}),void m(!1);if(fe.current.value!==pe.current.value)return o({isError:!0,errorMessage:"Password and Confirm-Password fields must match"}),void m(!1);if(fe.current.value.length<8)return o({isError:!0,errorMessage:"Password should be of at least 8 characters"}),void m(!1);var t={email:ge.current.value,password:fe.current.value,passwordConfirm:pe.current.value,name:Ee.current.value};x.a.post("/api/auth/signup",t).then((function(e){201===e.status&&u.push({pathname:"/verifyEmail",state:{email:t.email}})})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),o({isError:!0,errorMessage:e.response.data.message})):o({isError:!0,errorMessage:"Something went wrong!"}),m(!1)}))}},r.a.createElement(I.a.Group,{controlId:"formName"},r.a.createElement(I.a.Label,null,"Full Name"),r.a.createElement(I.a.Control,{placeholder:"Enter your name",ref:Ee})),r.a.createElement(I.a.Group,{controlId:"formBasicEmail"},r.a.createElement(I.a.Label,null,"Email Address"),r.a.createElement(I.a.Control,{type:"email",placeholder:"Enter Email",ref:ge}),r.a.createElement(I.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(I.a.Group,{controlId:"formBasicPassword"},r.a.createElement(I.a.Label,null,"Password"),r.a.createElement(I.a.Control,{type:"password",placeholder:"Password",ref:fe})),r.a.createElement(I.a.Group,{controlId:"formBasicPassword"},r.a.createElement(I.a.Label,null,"Confirm Password"),r.a.createElement(I.a.Control,{type:"password",placeholder:"Confirm Password",ref:pe})),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009"},type:"submit",disabled:c},c?"Submitting\u2026":"Sign Up")))),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},s.isError?r.a.createElement(N,{dismiss:function(){o({isError:!1,errorMessage:""})},message:s.errorMessage}):null)),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{fontSize:"0.85rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem",marginBottom:"1rem"}},"Brought to you by ",r.a.createElement("a",{style:{color:"green"},target:"_blank",href:"https://aashaypalliwar.github.io"},"Aashay Palliwar"))))},be=function(e){return r.a.createElement(_.a,{variant:"success",onClose:function(){return e.dismiss()},dismissible:!0},r.a.createElement(_.a.Heading,null,"Success"),r.a.createElement("p",null,e.message))},ye=Object(g.g)((function(e){var t=Object(n.useState)({isError:!1,errorMessage:""}),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)({isSuccess:!1,successMessage:""}),i=Object(D.a)(l,2),c=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(D.a)(u,2),f=d[0],p=d[1],E=Object(n.useState)(!1),h=Object(D.a)(E,2),b=h[0],y=h[1],R=Object(g.f)(),L=r.a.createRef();if(void 0===e.location)return R.replace("/"),null;return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:12},style:{fontSize:"1.5rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"}},"Hi ",e.location.state.email,", please enter the token sent to your mail.")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{padding:"1.5rem",marginTop:"0.25rem",borderRadius:"1rem",border:"medium solid #093009"}},r.a.createElement(I.a,{onSubmit:function(t){if(t.preventDefault(),p(!0),null===L.current.value||void 0===L.current.value||""===L.current.value)return o({isError:!0,errorMessage:"Token cannot be empty"}),void p(!1);var a={email:e.location.state.email,verificationToken:L.current.value};x.a.post("/api/auth/verifyEmail",a).then((function(t){if(200===t.status){var a={_id:t.data.data.user._id,name:t.data.data.user.name,email:t.data.data.user.email,suborg:t.data.data.user.suborg,categories:t.data.data.user.suborgInfo,numberOfURLs:t.data.data.user.numberOfURLs,expiresAfter:t.data.expiresAfter,role:t.data.data.user.role};e.auth(a)}})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),o({isError:!0,errorMessage:e.response.data.message})):o({isError:!0,errorMessage:"Something went wrong!"}),p(!1)}))}},r.a.createElement(I.a.Group,{controlId:"token"},r.a.createElement(I.a.Label,null,"Email Verification Token"),r.a.createElement(I.a.Control,{placeholder:"Enter Token",ref:L})),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009",marginRight:"1rem"},type:"submit",disabled:f||b},f?"Sending\u2026":"Submit"),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009"},onClick:function(){y(!0),x.a.post("/api/auth/resendVerificationEmail",{email:e.location.state.email}).then((function(e){200===e.status&&(m({isSuccess:!0,successMessage:"Please check your inbox for the new token."}),y(!1))})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),o({isError:!0,errorMessage:e.response.data.message})):o({isError:!0,errorMessage:"Something went wrong!"}),y(!1)}))},disabled:f||b},b?"Resending..":"Resend Token")))),c.isSuccess?r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},r.a.createElement(be,{dismiss:function(){m({isSuccess:!1,successMessage:""})},message:c.successMessage}))):null,s.isError?r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},r.a.createElement(N,{dismiss:function(){o({isError:!1,errorMessage:""})},message:s.errorMessage}))):null)})),Re=a(116),Le=r.a.createRef(),Se=r.a.createRef(),we=r.a.createRef(),ve=function(e){var t=Object(n.useState)({isError:!1,errorMessage:""}),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(D.a)(l,2),c=i[0],m=i[1],u=Object(g.f)();e.currentState.authenticated||u.replace("/");return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:12},style:{fontSize:"1.5rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"}},"Hi ",e.currentState.name,", please enter the details to continue.")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:12},style:{padding:"1.5rem",marginTop:"0.25rem",borderRadius:"1rem",border:"medium solid #093009"}},r.a.createElement(I.a,{onSubmit:function(t){return t.preventDefault(),m(!0),null===Le.current.value||void 0===Le.current.value||""===Le.current.value?(o({isError:!0,errorMessage:"Password cannot be empty"}),void m(!1)):we.current.value!==Se.current.value?(o({isError:!0,errorMessage:"Password and Confirm-Password fields must match"}),void m(!1)):we.current.value.length<8?(o({isError:!0,errorMessage:"Password should be of at least 8 characters"}),void m(!1)):void x.a.post("/api/auth/updatePassword",{_id:e.currentState._id,password:Le.current.value,passwordNew:we.current.value,passwordConfirm:Se.current.value}).then((function(t){if(200===t.status){var a={_id:t.data.data.user._id,name:t.data.data.user.name,email:t.data.data.user.email,suborg:t.data.data.user.suborg,categories:t.data.data.user.suborgInfo,numberOfURLs:t.data.data.user.numberOfURLs,expiresAfter:t.data.expiresAfter,role:t.data.data.user.role};e.auth(a)}})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),o({isError:!0,errorMessage:e.response.data.message})):o({isError:!0,errorMessage:"Something went wrong!"}),m(!1)}))}},r.a.createElement(I.a.Group,{controlId:"formBasicPassword"},r.a.createElement(I.a.Label,null,"Current Password"),r.a.createElement(I.a.Control,{type:"password",placeholder:"Current Password",ref:Le})),r.a.createElement(I.a.Group,{controlId:"formBasicPasswordNew"},r.a.createElement(I.a.Label,null,"New Password"),r.a.createElement(I.a.Control,{type:"password",placeholder:"New Password",ref:we})),r.a.createElement(I.a.Group,{controlId:"formBasicPasswordConfirm"},r.a.createElement(I.a.Label,null,"Confirm Password"),r.a.createElement(I.a.Control,{type:"password",placeholder:"Confirm Password",ref:Se})),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009"},type:"submit",disabled:c},c?"Submitting\u2026":"Submit")))),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},s.isError?r.a.createElement(N,{dismiss:function(){o({isError:!1,errorMessage:""})},message:s.errorMessage}):null)),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{fontSize:"0.85rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem",marginBottom:"1rem"}},"Brought to you by ",r.a.createElement("a",{style:{color:"green"},target:"_blank",href:"https://aashaypalliwar.github.io"},"Aashay Palliwar"))))},Oe=Object(g.g)((function(e){var t=r.a.createRef(),a=r.a.createRef(),s=r.a.createRef(),o=Object(n.useState)({isError:!1,errorMessage:""}),l=Object(D.a)(o,2),i=l[0],c=l[1],m=Object(n.useState)({isSuccess:!1,successMessage:""}),u=Object(D.a)(m,2),d=u[0],f=u[1],p=Object(n.useState)(!1),E=Object(D.a)(p,2),h=E[0],b=E[1],y=Object(n.useState)(!1),R=Object(D.a)(y,2),L=R[0],S=R[1],U=Object(g.f)();if(void 0===e.location)return U.replace("/"),null;return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:12},style:{fontSize:"1.5rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"}},"Token has been sent to your email.")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:12},style:{padding:"1.5rem",marginTop:"0.25rem",borderRadius:"1rem",border:"medium solid #093009"}},r.a.createElement(I.a,{onSubmit:function(n){return n.preventDefault(),b(!0),null===t.current.value||void 0===t.current.value||""===t.current.value?(c({isError:!0,errorMessage:"Name cannot be empty"}),void b(!1)):a.current.value!==s.current.value?(c({isError:!0,errorMessage:"Password and Confirm-Password fields must match"}),void b(!1)):a.current.value.length<8?(c({isError:!0,errorMessage:"Password should be of at least 8 characters"}),void b(!1)):void x.a.post("/api/auth/resetPassword",{resetToken:t.current.value,password:a.current.value,passwordConfirm:s.current.value}).then((function(t){if(200===t.status){var a={_id:t.data.data.user._id,name:t.data.data.user.name,email:t.data.data.user.email,suborg:t.data.data.user.suborg,categories:t.data.data.user.suborgInfo,numberOfURLs:t.data.data.user.numberOfURLs,expiresAfter:t.data.expiresAfter,role:t.data.data.user.role};e.auth(a)}})).catch((function(e){e.response&&(console.log(e.response.data.message),console.log(e.response.status),400===e.response.status&&"Token is invalid or has expired"===e.response.data.message?c({isError:!0,errorMessage:e.response.data.message}):c({isError:!0,errorMessage:"Something went wrong!"}),b(!1))}))}},r.a.createElement(I.a.Group,{controlId:"formBasicToken"},r.a.createElement(I.a.Label,null,"Token"),r.a.createElement(I.a.Control,{placeholder:"Enter Token",ref:t})),r.a.createElement(I.a.Group,{controlId:"formBasicPassword"},r.a.createElement(I.a.Label,null,"New Password"),r.a.createElement(I.a.Control,{type:"password",placeholder:"New Password",ref:a})),r.a.createElement(I.a.Group,{controlId:"formBasicPasswordConfirm"},r.a.createElement(I.a.Label,null,"Confirm Password"),r.a.createElement(I.a.Control,{type:"password",placeholder:"Confirm Password",ref:s})),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009",marginRight:"1rem"},type:"submit",disabled:h||L},h?"Changing..":"Change Password"),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009"},onClick:function(){S(!0),x.a.post("/api/auth/forgotPassword",{email:e.location.state.email}).then((function(e){200===e.status&&"Token sent to email!"===e.data.message&&(f({isSuccess:!0,successMessage:e.data.message}),S(!1))})).catch((function(e){e.response&&(console.log(e.response.data.message),console.log(e.response.status),S(!1),c({isError:!0,errorMessage:e.response.data.message}))}))},disabled:h||L},L?"Resending..":"Resend Token")))),d.isSuccess?r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},r.a.createElement(be,{dismiss:function(){f({isSuccess:!1,successMessage:""})},message:d.successMessage}))):null,i.isError?r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},r.a.createElement(N,{dismiss:function(){c({isError:!1,errorMessage:""})},message:i.errorMessage}))):null)})),Ue=r.a.createRef(),je=(r.a.createRef(),r.a.createRef(),r.a.createRef(),function(e){var t=Object(n.useState)({isError:!1,errorMessage:""}),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(D.a)(l,2),c=i[0],m=i[1],u=Object(g.f)();return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:12},style:{fontSize:"1.5rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"}},"Please enter your email for password recovery.")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:12},style:{padding:"1.5rem",marginTop:"0.25rem",borderRadius:"1rem",border:"medium solid #093009"}},r.a.createElement(I.a,{onSubmit:function(e){e.preventDefault(),m(!0),x.a.post("/api/auth/forgotPassword",{email:Ue.current.value}).then((function(e){200===e.status&&"Token sent to email!"===e.data.message&&u.push({pathname:"/resetPassword",state:{email:Ue.current.value}})})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),Ue.current.value="",o({isError:!0,errorMessage:e.response.data.message})):o({isError:!0,errorMessage:"Something went wrong!"}),m(!1)}))}},r.a.createElement(I.a.Group,{controlId:"formBasicEmail"},r.a.createElement(I.a.Label,null,"Email Address"),r.a.createElement(I.a.Control,{type:"email",placeholder:"Enter your email",ref:Ue})),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009"},type:"submit",disabled:c},c?"Sending Code..":"Send Code")))),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},s.isError?r.a.createElement(N,{dismiss:function(){o({isError:!1,errorMessage:""})},message:s.errorMessage}):null)))}),xe=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).indirectSetState=function(e){n.setState(e)},n.displayState=function(){return console.log(" ")},n.loading=function(){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:te},r.a.createElement("span",{onClick:n.displayState},'"Loading.."')))},n.goBack=function(){n.props.history.replace("/")},n.urlTable=function(){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:10,offset:1},lg:{span:8,offset:2},sm:{span:10,offset:1},xs:{span:10,offset:1}},r.a.createElement(U.a,{responsive:!0,bordered:!0,style:{marginTop:"1rem"}},r.a.createElement("thead",{style:ne},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr. No."),r.a.createElement("th",null,"Original URL"),r.a.createElement("th",null,"BBS-URL"),r.a.createElement("th",null,"Hits"),r.a.createElement("th",null,"Created on"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,n.state.URLInfo.map((function(e,t){return r.a.createElement(ie,{key:e.shortURLEndPoint,url:e,set:n.indirectSetState,index:t,urls:n.state.URLInfo})}))))))},n.emptyPage=function(){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:te},"You do not have any short/custom URL yet. Make one now !"))},n.state={_id:null,email:null,name:null,numberOfURLs:null,URLInfo:[],loadState:"loading"},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.a.get("/api/user/url",{withCredentials:!0}).then((function(t){200===t.status&&e.setState({URLInfo:t.data.URLData,loadState:"loaded"})})).catch((function(e){console.log("Couldnot fetch data")}))}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:ee},r.a.createElement("span",{onClick:this.goBack,style:se},"Dashboard")," / Root URL manager")),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:te},"Create a custom or random URL that maps to any website!")),r.a.createElement(Z,{set:this.indirectSetState,urls:this.state.URLInfo}),"loading"===this.state.loadState?this.loading:null,JSON.stringify(this.state.URLInfo)===JSON.stringify([])&&"loaded"===this.state.loadState?this.emptyPage():this.urlTable(),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:8,offset:2},lg:{span:8,offset:2},sm:{span:10,offset:1},xs:{span:10,offset:1},style:ae},r.a.createElement("span",{style:{fontSize:"1.3rem",color:"#093009"}},"How to use?"),r.a.createElement("p",null,"This URL managing tool provides you with custom URLs or randomly generated short URLs that can be mapped to any website you wish. You can also categorize your URLs into sub-groups for easier access and identification.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"1.3rem",color:"#093009"}},"The Root Category"),r.a.createElement("br",null),"The Root category is where you can manage all short and custom URLs which are not categorized",r.a.createElement("br",null),"eg. ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/Qwdt8P")," or ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/matchSchedule"),r.a.createElement("br",null),r.a.createElement("br",null)))),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{fontSize:"0.85rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem",marginBottom:"1rem"}},"Brought to you by ",r.a.createElement("a",{style:{color:"green"},target:"_blank",href:"https://aashaypalliwar.github.io"},"Aashay Palliwar"))))}}]),a}(n.Component),Ce=Object(g.g)(xe),ke={fontSize:"1.4rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"},Te={fontSize:"1.2rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"},Ae={fontSize:"1rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",marginTop:"1rem"},Pe={fontSize:"1rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center"},Be={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"green",cursor:"pointer",textDecoration:"none"},Me={fontSize:"1.4rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"green",cursor:"pointer",textDecoration:"none"},De={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center"},Ie={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"red",cursor:"pointer"},ze=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(D.a)(l,2),c=i[0],m=i[1],u=Object(n.useState)({isError:!1,errorMessage:""}),d=Object(D.a)(u,2),f=d[0],p=d[1],E=(Object(g.f)(),Object(n.useRef)()),h=Object(n.useRef)(),b=Object(n.useRef)(),y=function(){o(!1),m(!1),E.current.value=""};return r.a.createElement(w.a,null,f.isError?r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"1.5rem",paddingBottom:"2rem",marginTop:"1rem"}},r.a.createElement(N,{dismiss:function(){p({isError:!1,errorMessage:""})},message:f.errorMessage}))):null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:4,offset:4},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{padding:"1.5rem",marginTop:"0.25rem",borderRadius:"1rem",border:"medium solid #093009"}},r.a.createElement(I.a,{onSubmit:function(t){t.preventDefault();var a=Object(J.a)(e.urls);o(!0);var n,r={originalURL:E.current.value,customURL:(n=h,void 0===n.current?" ":n.current.value),wantCustomURL:c,suborgName:e.category};x.a.post("/api/suborg/url",r,{withCredentials:!0}).then((function(t){if(201===t.status){var n={_id:t.data.newURLData._id,suborg:t.data.newURLData.suborg,hits:t.data.newURLData.hits,createdAt:t.data.newURLData.createdAt,blacklisted:t.data.newURLData.blacklisted,email:t.data.newURLData.email,name:t.data.newURLData.name,userID:t.data.newURLData.userID,shortURLEndPoint:t.data.newURLData.shortURLEndPoint,originalURL:t.data.newURLData.originalURL,__v:t.data.newURLData.__v};a.unshift(n),e.set({URLInfo:a})}y()})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),p({isError:!0,errorMessage:e.response.data.message})):p({isError:!0,errorMessage:"Something went wrong!"+e.message}),y()}))}},r.a.createElement(I.a.Group,{controlId:"categoryNameField"},r.a.createElement(I.a.Label,null,"Original URL"),r.a.createElement(I.a.Control,{type:"text",placeholder:"Enter Original URL",ref:E})),c?r.a.createElement(X.a,{className:"mb-3"},r.a.createElement(X.a.Prepend,null,r.a.createElement(X.a.Text,{id:"basic-addon3"},"bbsurl.in/",e.category,"/")),r.a.createElement(I.a.Control,{id:"basic-url","aria-describedby":"basic-addon3",placeholder:"Custom Endpoint",maxLength:20,ref:h})):null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(I.a.Check,{type:"checkbox",label:"Custom URL",checked:c,onChange:function(){m(!c)},ref:b}))),r.a.createElement(z.a,{variant:"success",style:{backgroundColor:"#093009"},type:"submit",disabled:s},s?"Creating\u2026":"Create")))))},_e=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)({isError:!1,errorMessage:""}),i=Object(D.a)(l,2),c=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(D.a)(u,2),f=d[0],p=d[1];Object(g.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{style:De},e.index+1),r.a.createElement("td",null,r.a.createElement("a",{href:e.url.originalURL,style:Be,target:"_blank"},e.url.originalURL)),r.a.createElement("td",null,r.a.createElement("a",{href:"/"+e.url.shortURLEndPoint,style:Be,target:"_blank"},"bbsurl.in/"+e.url.shortURLEndPoint)),r.a.createElement("td",{style:De},e.url.hits),r.a.createElement("td",{style:De},new Date(e.url.createdAt).toDateString()),r.a.createElement("td",{style:Ie,onClick:function(){p(!0)}},"Delete")),f?r.a.createElement(F,{show:f,isLoading:s,handleClose:function(){return p(!1)},variant:"danger",fireFunction:function(){var t=Object(J.a)(e.urls),a=e.url._id;o(!0),x.a.delete("/api/suborg/url?id=".concat(e.url._id,"&suborg=").concat(e.category),{withCredentials:!0}).then((function(n){if(204===n.status){var r=t.findIndex((function(e){return e._id===a}));t.splice(r,1),e.set({URLInfo:t})}p(!1)})).catch((function(e){e.response?(console.log(e.response.data.message),console.log(e.response.status),m({isError:!0,errorMessage:e.response.data.message})):m({isError:!0,errorMessage:"Something went wrong! \n"+e.message}),o(!1)}))},buttonToTrigger:"Delete",heading:"Delete URL - bbsurl.in/".concat(e.url.shortURLEndPoint),body:c.isError?c.errorMessage:"Are you sure you want to delete this labelled URL?"}):null)},Ne=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).indirectSetState=function(e){n.setState(e)},n.displayState=function(){return console.log(" ")},n.loading=function(){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:Te},r.a.createElement("span",{onClick:n.displayState},'"Loading.."')))},n.goBack=function(){n.props.history.replace("/")},n.urlTable=function(){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:10,offset:1},lg:{span:8,offset:2},sm:{span:10,offset:1},xs:{span:10,offset:1}},r.a.createElement(U.a,{responsive:!0,bordered:!0,style:{marginTop:"1rem"}},r.a.createElement("thead",{style:Pe},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr. No."),r.a.createElement("th",null,"Original URL"),r.a.createElement("th",null,"BBS-URL"),r.a.createElement("th",null,"Hits"),r.a.createElement("th",null,"Created on"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,n.state.URLInfo.map((function(e,t){return r.a.createElement(_e,{key:e.shortURLEndPoint,url:e,set:n.indirectSetState,index:t,urls:n.state.URLInfo,category:n.props.match.params.suborg})}))))))},n.emptyPage=function(){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:Te},"You do not have any short/custom URL under this category yet. Make one now !"))},n.state={numberOfURLs:null,URLInfo:[],loadState:"loading"},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.a.get("/api/suborg/?suborg=".concat(this.props.match.params.suborg),{withCredentials:!0}).then((function(t){200===t.status&&e.setState({URLInfo:t.data.URLData,loadState:"loaded"})})).catch((function(e){console.log("Couldnot fetch data")}))}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:ke},r.a.createElement("span",{onClick:this.goBack,style:Me},"Dashboard")," / Category Manager - ",this.props.match.params.suborg)),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:Te},"Create a custom or random URL that maps to any website!")),r.a.createElement(ze,{set:this.indirectSetState,urls:this.state.URLInfo,category:this.props.match.params.suborg}),"loading"===this.state.loadState?this.loading:null,JSON.stringify(this.state.URLInfo)===JSON.stringify([])&&"loaded"===this.state.loadState?this.emptyPage():this.urlTable(),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:8,offset:2},lg:{span:8,offset:2},sm:{span:10,offset:1},xs:{span:10,offset:1},style:Ae},r.a.createElement("span",{style:{fontSize:"1.3rem",color:"#093009"}},"How to use?"),r.a.createElement("p",null,r.a.createElement("span",{style:{fontSize:"1.3rem",color:"#093009"}},"Categorized short/custom URLs"),r.a.createElement("br",null),'One may create short/custom URLs that can be grouped under the particular category (which here is "',this.props.match.params.suborg,'"). eg. under the category "endsem" one may create:',r.a.createElement("br",null),"1. A random URL like ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/endsem/Asd2It")," that points to your google-drive notes folder and share this with your pals.",r.a.createElement("br",null),"2. Or, may be you can map the link to your favourite youtube tutorial to ",r.a.createElement("a",{style:{color:"green"}},"bbsurl.in/endsem/graphs"),". You can delete a given category in one go as well.",r.a.createElement("br",null),r.a.createElement("br",null),"Your imagination is the limit! You have stumbled upon the one solution to long URLs and cluttered bookmark tools."))),r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:6,offset:3},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:{fontSize:"0.85rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem",marginBottom:"1rem"}},"Brought to you by ",r.a.createElement("a",{style:{color:"green"},target:"_blank",href:"https://aashaypalliwar.github.io"},"Aashay Palliwar"))))}}]),a}(n.Component),Ge=Object(g.g)(Ne),He={fontSize:"1.4rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"},Fe={fontSize:"1.2rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center",marginTop:"1rem"},Je={fontSize:"1rem",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",textAlign:"center"},Ye={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"green",cursor:"pointer",textDecoration:"none"},We={fontSize:"1.4rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"green",cursor:"pointer",textDecoration:"none"},qe={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center"},Qe={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"red",cursor:"pointer"},Ve={fontSize:"1rem",paddingLeft:"0",paddingRight:"0",textAlign:"center",color:"green",cursor:"pointer"},$e=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),s=(a[0],a[1]),o=Object(n.useState)(e.url.blacklisted),l=Object(D.a)(o,2),i=l[0],c=l[1],m=Object(n.useState)({isError:!1,errorMessage:""}),u=Object(D.a)(m,2),d=(u[0],u[1],Object(n.useState)(!1)),f=Object(D.a)(d,2);f[0],f[1],Object(g.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{style:qe},e.index+1),r.a.createElement("td",null,r.a.createElement("a",{href:e.url.originalURL,style:Ye,target:"_blank"},e.url.originalURL)),r.a.createElement("td",null,r.a.createElement("a",{href:"/"+e.url.shortURLEndPoint,style:Ye,target:"_blank"},"bbsurl.in/"+e.url.shortURLEndPoint)),r.a.createElement("td",{style:qe},e.url.email),r.a.createElement("td",{style:qe},e.url.hits),r.a.createElement("td",{style:qe},new Date(e.url.createdAt).toDateString()),i?r.a.createElement("td",{style:Ve,onClick:function(){console.log(e.urls);Object(J.a)(e.urls);var t=e.url._id;console.log("before req"),s(!0),x.a.put("/api/admin/url",{blacklisted:0,_id:t},{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&c(!1)})).catch((function(e){console.log(e),e.response&&(console.log(e.response.data.message),console.log(e.response.status))}))}},"Whitelist"):r.a.createElement("td",{style:Qe,onClick:function(){console.log(e.urls);Object(J.a)(e.urls);var t=e.url._id;console.log("before req"),s(!0),x.a.put("/api/admin/url",{blacklisted:1,_id:t},{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&c(!0)})).catch((function(e){console.log(e),e.response&&(console.log(e.response.data.message),console.log(e.response.status))}))}},"Blacklist")))},Ke=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),s=(a[0],a[1],Object(n.useState)(e.user.blacklisted)),o=Object(D.a)(s,2),l=o[0],i=o[1],c=Object(n.useState)({isError:!1,errorMessage:""}),m=Object(D.a)(c,2),u=(m[0],m[1],Object(n.useState)(!1)),d=Object(D.a)(u,2);d[0],d[1],Object(g.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{style:qe},e.index+1),r.a.createElement("td",{style:qe},e.user.name),r.a.createElement("td",{style:qe},e.user.email),r.a.createElement("td",{style:qe},e.user.numberOfURLs),r.a.createElement("td",{style:qe},JSON.stringify(e.user.suborg)),l?r.a.createElement("td",{style:Ve,onClick:function(){console.log(e.users);Object(J.a)(e.users);var t=e.user._id;console.log("before req"),x.a.put("/api/admin/user",{blacklisted:0,_id:t},{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&i(!1)})).catch((function(e){console.log(e),e.response&&(console.log(e.response.data.message),console.log(e.response.status))}))}},"Whitelist"):r.a.createElement("td",{style:Qe,onClick:function(){console.log(e.users);Object(J.a)(e.users);var t=e.user._id;console.log("before req"),x.a.put("/api/admin/user",{blacklisted:1,_id:t},{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&i(!0)})).catch((function(e){console.log(e),e.response&&(console.log(e.response.data.message),console.log(e.response.status))}))}},"Blacklist")))},Xe=function(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),s=(a[0],a[1],Object(n.useState)(e.suborg.blacklisted)),o=Object(D.a)(s,2),l=o[0],i=o[1],c=Object(n.useState)({isError:!1,errorMessage:""}),m=Object(D.a)(c,2),u=(m[0],m[1],Object(n.useState)(!1)),d=Object(D.a)(u,2);d[0],d[1],Object(g.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{style:qe},e.index+1),r.a.createElement("td",{style:qe},e.suborg.name),r.a.createElement("td",{style:qe},e.suborg.email),r.a.createElement("td",{style:qe},e.suborg.numberOfURLs),r.a.createElement("td",{style:qe},e.suborg.description),l?r.a.createElement("td",{style:Ve,onClick:function(){console.log(e.suborgs);Object(J.a)(e.suborgs);var t=e.suborg._id;console.log("before req"),x.a.put("/api/admin/suborg",{blacklisted:0,_id:t},{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&i(!1)})).catch((function(e){console.log(e),e.response&&(console.log(e.response.data.message),console.log(e.response.status))}))}},"Whitelist"):r.a.createElement("td",{style:Qe,onClick:function(){console.log(e.suborgs);Object(J.a)(e.suborgs);var t=e.suborg._id;console.log("before req"),x.a.put("/api/admin/suborg",{blacklisted:1,_id:t},{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&i(!0)})).catch((function(e){console.log(e),e.response&&(console.log(e.response.data.message),console.log(e.response.status))}))}},"Blacklist")))},Ze=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).indirectSetState=function(e){n.setState(e)},n.displayState=function(){return console.log(n.state)},n.loading=function(e){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:Fe},r.a.createElement("span",{onClick:n.displayState},'"Loading ',e,'.."')))},n.goBack=function(){console.log("trying to go back"),n.props.history.replace("/")},n.urlTable=function(){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:10,offset:1},lg:{span:10,offset:1},sm:{span:10,offset:1},xs:{span:10,offset:1}},r.a.createElement(U.a,{responsive:!0,bordered:!0,style:{marginTop:"1rem"}},r.a.createElement("thead",{style:Je},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr. No."),r.a.createElement("th",null,"Original URL"),r.a.createElement("th",null,"BBS-URL"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Hits"),r.a.createElement("th",null,"Created on"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,n.state.URLInfo.map((function(e,t){return r.a.createElement($e,{key:e.shortURLEndPoint,url:e,set:n.indirectSetState,index:t,urls:n.state.URLInfo})}))))))},n.suborgTable=function(){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:10,offset:1},lg:{span:8,offset:2},sm:{span:10,offset:1},xs:{span:10,offset:1}},r.a.createElement(U.a,{responsive:!0,bordered:!0,style:{marginTop:"1rem"}},r.a.createElement("thead",{style:Je},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr. No."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"No. of URLs"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,n.state.suborgInfo.map((function(e,t){return r.a.createElement(Xe,{key:e.name,suborg:e,set:n.indirectSetState,index:t,suborgs:n.state.suborgInfo})}))))))},n.userTable=function(){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:10,offset:1},lg:{span:8,offset:2},sm:{span:10,offset:1},xs:{span:10,offset:1}},r.a.createElement(U.a,{responsive:!0,bordered:!0,style:{marginTop:"1rem"}},r.a.createElement("thead",{style:Je},r.a.createElement("tr",null,r.a.createElement("th",null,"Sr. No."),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"No. of URLs"),r.a.createElement("th",null,"Suborgs"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,n.state.userInfo.map((function(e,t){return r.a.createElement(Ke,{key:e._id,user:e,set:n.indirectSetState,index:t,users:n.state.userInfo})}))))))},n.emptyPage=function(e){return r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:Fe},"No "+e))},n.state={userInfo:[],suborgInfo:[],URLInfo:[],userLoad:"loading",suborgLoad:"loading",URLLoad:"loading"},console.log("categurlconstructor worked"),console.log("printing state",n.state),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("inside cdm"),console.log("printing state",this.state),x.a.get("/api/admin/users",{withCredentials:!0}).then((function(t){200===t.status&&(console.log(t),console.log("fetched user info"),e.setState({userInfo:t.data.allUsers,userLoad:"loaded"}))})).catch((function(e){console.log(e),console.log("Couldnot fetch user data")})),x.a.get("/api/admin/suborgs",{withCredentials:!0}).then((function(t){200===t.status&&(console.log(t),console.log("fetched  suborgs info"),e.setState({suborgInfo:t.data.allSuborgs,suborgLoad:"loaded"}))})).catch((function(e){console.log(e),console.log("Couldnot fetch suborg data")})),x.a.get("/api/admin/urls",{withCredentials:!0}).then((function(t){200===t.status&&(console.log(t),console.log("fetched  url info"),e.setState({URLInfo:t.data.allURLs,URLLoad:"loaded"}))})).catch((function(e){console.log(e),console.log("Couldnot fetch url data")}))}},{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{md:{span:4,offset:4},lg:{span:6,offset:3},sm:{span:10,offset:1},xs:{span:10,offset:1},style:He},r.a.createElement("span",{onClick:this.goBack,style:We},"Dashboard")," / Admin")),"loading"===this.state.userLoad?this.loading("User"):null,JSON.stringify(this.state.userInfo)===JSON.stringify([])&&"loaded"===this.state.userLoad?this.emptyPage("User"):this.userTable(),"loading"===this.state.suborgLoad?this.loading("Suborg"):null,JSON.stringify(this.state.suborgInfo)===JSON.stringify([])&&"loaded"===this.state.suborgLoad?this.emptyPage("Suborg"):this.suborgTable(),"loading"===this.state.URLLoad?this.loading("URL"):null,JSON.stringify(this.state.URLInfo)===JSON.stringify([])&&"loaded"===this.state.URLLoad?this.emptyPage("URL"):this.urlTable())}}]),a}(n.Component),et=Object(g.g)(Ze),tt=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).authHandler=function(e){p.a.clear(),e.authenticated=!0,p.a.set("user",JSON.stringify(e)),n.setState(Object(d.a)({},e)),n.props.history.replace("/")},n.toggleAuth=function(){n.indirectStateSetter({authenticated:!n.state.authenticated})},n.indirectStateSetter=function(e){n.setState(e)};var r=!1;if(null!==p()("user")){var s=JSON.parse(p.a.get("user"));Date.now()<s.expiresAfter&&(r=!0)}if(r){var o=JSON.parse(p.a.get("user"));o.authenticated=!0,n.state=Object(d.a)({},o)}else p.a.clear(),n.state={authenticated:!1,_id:null,email:null,name:null,role:null,suborg:[],categories:[],numberOfURLs:null};return n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t=this,a=!1;this.state.authenticated&&x.a.get("/api/user/suborg",{withCredentials:!0}).then((function(n){200===n.status&&n.data.categories.length!==t.state.categories.length&&(a=!0,e=Object(u.a)(n.data.categories))})).then((function(){a&&t.setState({categories:e})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(e,t,a){p.a.clear(),p.a.set("user",JSON.stringify(this.state))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(S,{authenticated:this.state.authenticated,toggle:this.toggleAuth})),r.a.createElement(g.b,{path:"/",exact:!0,render:function(){return e.state.authenticated?r.a.createElement(g.a,{to:"/dashboard"}):r.a.createElement(ue,null)}}),r.a.createElement(g.b,{path:"/dashboard",exact:!0,render:function(){return e.state.authenticated?r.a.createElement(q,{appState:e.state,set:e.indirectStateSetter}):r.a.createElement(g.a,{to:"/"})}}),r.a.createElement(g.b,{path:"/admin",exact:!0,render:function(){return"admin"!==e.state.role?r.a.createElement(g.a,{to:"/"}):r.a.createElement(et,{appState:e.state,set:e.indirectStateSetter})}}),r.a.createElement(g.b,{path:"/dashboard/root",exact:!0,render:function(){return e.state.authenticated?r.a.createElement(Ce,{appState:e.state,set:e.indirectStateSetter}):r.a.createElement(g.a,{to:"/"})}}),r.a.createElement(g.b,{path:"/dashboard/category/:suborg",exact:!0,render:function(){return e.state.authenticated?r.a.createElement(Ge,{appState:e.state,set:e.indirectStateSetter}):r.a.createElement(g.a,{to:"/"})}}),r.a.createElement(g.b,{path:"/login",exact:!0,render:function(){return r.a.createElement(de,{isAuth:e.state.authenticated,auth:e.authHandler})}}),r.a.createElement(g.b,{path:"/signup",exact:!0,render:function(){return r.a.createElement(he,{isAuth:e.state.authenticated})}}),r.a.createElement(g.b,{path:"/forgotPassword",exact:!0,render:function(){return r.a.createElement(je,{auth:e.authHandler})}}),r.a.createElement(g.b,{path:"/changePassword",exact:!0,render:function(){return r.a.createElement(ve,{currentState:e.state,auth:e.authHandler})}}),r.a.createElement(g.b,{path:"/verifyEmail",exact:!0,render:function(){return r.a.createElement(ye,{auth:e.authHandler})}}),r.a.createElement(g.b,{path:"/resetPassword",exact:!0,render:function(){return r.a.createElement(Oe,{auth:e.authHandler})}}))}}]),a}(n.Component),at=Object(Re.a)(Object(g.g)(tt)),nt=a(117),rt=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(nt.a,null,r.a.createElement(E.a,null,r.a.createElement(at,{cookies:this.props.cookies})))}}]),a}(n.Component),st=Object(Re.a)(rt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(110);o.a.render(r.a.createElement(st,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},80:function(e,t,a){e.exports=a(111)},85:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.b14910f9.chunk.js.map